<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Infrastructure Project Facilitation Office</title>

    <!-- Font Awesome -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/blog.css">
</head>

<body>
    <!-- Header Top -->
    <div id="header-top-placeholder"></div>

    <!-- Navigation -->
    <div id="navigation-placeholder"></div>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Blog & Insights</h1>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <div class="newsletter-text">
                    <h2>Stay Updated</h2>
                    <p>Subscribe to get the latest news and insights</p>
                </div>
                <form class="newsletter-form" id="newsletterForm" action="https://formspree.io/f/xdkwazkj"
                    method="POST">
                    <input type="email" name="email" placeholder="Enter your email" required>
                    <input type="hidden" name="form_type" value="newsletter">
                    <button type="submit">
                        <i class="fas fa-paper-plane"></i> Subscribe
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="blog-section">
        <div class="container">
            <!-- Search & Controls -->
            <div class="blog-controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search articles..." id="searchInput">
                </div>
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid" title="Grid View">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class="view-btn" data-view="list" title="List View">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>

            <!-- Filters -->
            <div class="blog-filters">
                <button class="filter-btn active" data-category="all">
                    All Posts <span class="count">0</span>
                </button>
                <button class="filter-btn" data-category="Infrastructure">
                    Infrastructure <span class="count">0</span>
                </button>
                <button class="filter-btn" data-category="Investment">
                    Investment <span class="count">0</span>
                </button>
                <button class="filter-btn" data-category="Policy">
                    Policy <span class="count">0</span>
                </button>
                <button class="filter-btn" data-category="News">
                    News <span class="count">0</span>
                </button>
            </div>

            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="spinner"></div>
                <p>Loading blog posts...</p>
            </div>

            <!-- Blog Grid -->
            <div class="blog-grid" id="blogGrid" style="display: none;"></div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <i class="fas fa-inbox"></i>
                <h3>No Posts Found</h3>
                <p>Try adjusting your search or filter to find what you're looking for.</p>
            </div>

            <!-- Load More -->
            <div class="load-more-container" id="loadMoreContainer" style="display: none;">
                <button class="load-more-btn" id="loadMoreBtn">
                    Load More Articles <i class="fas fa-chevron-down"></i>
                </button>
                <p class="showing-count" id="showingCount"></p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <!-- Mobile Navigation -->
    <div id="mobile-nav-placeholder"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>
    <script src="js/components.js"></script>
    <script src="js/common.js"></script>
    <script src="js/blog.js"></script>
    <script>
        // Initialize components
        IPFOComponents.insertComponents('blog.html');

        // Initialize blog functionality
        BlogModule.loadBlogPosts();

        // Handle newsletter form
        IPFOCommon.handleFormSubmission('newsletterForm', null, 'Thank you for subscribing!');
    </script>
</body>

</html>